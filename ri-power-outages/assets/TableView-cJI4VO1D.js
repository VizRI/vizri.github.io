import{_ as y,b as k,s as P,r as _,d as $,e as D,f as F,c as v,a as s,g as p,t as r,F as S,h as T,o as b}from"./index-B8-6zuV-.js";const V={class:"table-page"},x={class:"table-container"},I={class:"outage-table"},L={class:"sort-icon"},h={class:"sort-icon"},B={class:"sort-icon"},M={class:"sort-icon"},N={class:"city-name"},w={class:"number-cell"},O={class:"number-cell"},U={class:"percent-cell"},E={__name:"TableView",setup(R){const c=k(),{currentData:m,lastUpdated:j}=P(c),l=_("po"),i=_("desc"),g=$(()=>{if(!m.value?.MapData)return[];let e=[...m.value.MapData];return e.sort((t,a)=>{let n=t[l.value],o=a[l.value];return l.value==="po"?(n=parseFloat(n)||0,o=parseFloat(o)||0):l.value==="nc"||l.value==="tc"?(n=parseInt(n)||0,o=parseInt(o)||0):(n=String(n).toLowerCase(),o=String(o).toLowerCase()),i.value==="asc"?n>o?1:n<o?-1:0:n<o?1:n>o?-1:0}),e}),u=e=>{l.value===e?i.value=i.value==="asc"?"desc":"asc":(l.value=e,i.value=e==="nm"?"asc":"desc")},d=e=>l.value!==e?"":i.value==="asc"?"↑":"↓",f=e=>parseInt(e).toLocaleString(),C=e=>e==="<1%"?e:parseFloat(e).toFixed(2)+"%";return D(()=>{c.isPolling||c.startPolling("table")}),F(()=>{c.stopPolling()}),(e,t)=>(b(),v("div",V,[s("div",x,[t[8]||(t[8]=s("div",{class:"table-header"},[s("h1",null,"Power Outages by City/Town")],-1)),s("table",I,[s("thead",null,[s("tr",null,[s("th",{onClick:t[0]||(t[0]=a=>u("nm")),class:"sortable city"},[t[4]||(t[4]=p(" City/Town ",-1)),s("span",L,r(d("nm")),1)]),s("th",{onClick:t[1]||(t[1]=a=>u("nc")),class:"sortable"},[t[5]||(t[5]=p(" Outages ",-1)),s("span",h,r(d("nc")),1)]),s("th",{onClick:t[2]||(t[2]=a=>u("tc")),class:"sortable"},[t[6]||(t[6]=p(" Customers ",-1)),s("span",B,r(d("tc")),1)]),s("th",{onClick:t[3]||(t[3]=a=>u("po")),class:"sortable"},[t[7]||(t[7]=p(" Percent ",-1)),s("span",M,r(d("po")),1)])])]),s("tbody",null,[(b(!0),v(S,null,T(g.value,a=>(b(),v("tr",{key:`${a.nm}-${a.nc}-${a.tc}`,class:"table-row"},[s("td",N,r(a.nm),1),s("td",w,r(f(a.nc||0)),1),s("td",O,r(f(a.tc||0)),1),s("td",U,[s("span",null,r(C(a.po||0)),1)])]))),128))])])])]))}},z=y(E,[["__scopeId","data-v-0e5f1014"]]);export{z as default};
