import{_ as I,o as d,b as r,d as t,t as g,F as _,e as x,j as w,r as y,k as S,a as D,f as F,w as A,l as j,v as Y,m as B,n as O,g as q,p as R,h as U}from"./index-C9s4TIqk.js";const V={class:"accordion accordion-flush mt-1",id:"accordionFlushExample"},W={class:"accordion-item"},z={class:"accordion-header",id:"flush-headingOne"},G=["data-bs-target"],H=["id"],J={class:"table table-hover"},K=["onClick"],P={class:"clickable checkbox-col"},Q={class:"form-check"},X=["value","id"],Z={class:"clickable col-12"},tt={__name:"AppAccordion",props:{contestData:Object,electionName:String,idx:Number},setup(u){if(localStorage.contests){var h=localStorage.getItem("contests").split(",");h.forEach(l=>{var n=document.querySelector("input[value='"+l+"']");n&&(n.checked=!0)})}const v=u;function i(l,n){if(localStorage.contests)var c=localStorage.getItem("contests").split(",");else c=[];if(n){var b=c.indexOf(l);c.splice(b,1),localStorage.contests=c}else c.push(l),localStorage.contests=c}function m(l){var n=document.querySelector("input[value='"+l+"']");n.checked?(n.checked=!1,i(l,!0)):(n.checked=!0,i(l,!1))}return(l,n)=>(d(),r("div",V,[t("div",W,[t("h2",z,[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-"+u.idx},g(v.electionName),9,G)]),t("div",{id:"collapse-"+u.idx,class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},[t("table",J,[t("tbody",null,[(d(!0),r(_,null,x(v.contestData,(c,b)=>(d(),r("tr",{key:b,onClick:k=>m(c.contest_num)},[t("td",P,[t("div",Q,[t("input",{class:"form-check-input",name:"contest-list",type:"checkbox",disabled:"",value:c.contest_num,id:b+"-"+c.contest_num},null,8,X)])]),t("td",Z,g(c.contest_name),1)],8,K))),128))])])],8,H)])]))}},et=I(tt,[["__scopeId","data-v-5a94405d"]]),p=u=>(R("data-v-461819e7"),u=u(),U(),u),ot={class:"container-fluid"},at={class:"row header"},st=p(()=>t("div",{class:"col-sm-12 col-md-6"},[t("h1",{class:"contest-type"},"Create a Custom List")],-1)),lt={class:"col-sm-12 col-md-6 text-end data-buttons"},ct=p(()=>t("button",{type:"button",class:"btn btn-danger","data-bs-toggle":"modal","data-bs-target":"#deleteModal"},"Delete",-1)),nt=p(()=>t("div",{class:"container"},[t("p",null," Clicking on a category below will expand the choice to give you a list of all available contest within that option. Check off all the contest you wish to view and hit the submit button at the bottom of the page. This will provide you a custom view of only races you're interested in. If you aren't sure who the candidates are in the contest, clicking on the info button to the right will provide a list of all the candidates. ")],-1)),it={class:"row"},dt={id:"Searchbar",class:"d-flex justify-content-center mb-4 p-4"},rt={key:0,id:"myInputautocomplete-list",class:"autocomplete-items list-group text-left"},ut=["onClick"],mt={class:"row"},pt={class:"container mb-4"},bt={class:"modal fade",id:"exportModal",tabindex:"-1","aria-labelledby":"exportModalLabel","aria-hidden":"true"},ht={class:"modal-dialog"},vt={class:"modal-content"},ft=p(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exportModalLabel"},"Export Contests"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),_t={class:"modal-body"},yt=["value"],gt=O('<div class="modal-header" data-v-461819e7><h5 class="modal-title" id="importModalLabel" data-v-461819e7>Import Contests</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-461819e7></button></div><div class="modal-body" data-v-461819e7><textarea type="text text-break" class="form-control" value="" id="importFavorites" rows="7" placeholder="paste contests or upload file..." data-v-461819e7></textarea></div>',2),xt=p(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"deleteModalLabel"},"Delete Contests"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),kt=p(()=>t("div",{class:"modal-body"},[t("p",null,`Clicking "Yes Delete" will cause all your checked boxes to become unchecked. This can't be undone make sure to Export to a file if you don't want to lose any of your saved contests. `)],-1)),Ct=p(()=>t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1)),wt={__name:"Custom",setup(u){const h=w([]),v=w([]),i=y(""),m=y(""),l=y(!1);fetch(window.STATIC_URL+"/static/scaffold.json").then(e=>e.json()).then(e=>{e.forEach(o=>{h.push(o)})}),fetch(window.STATIC_URL+"/static/candidates.json").then(e=>e.json()).then(e=>{e.forEach(o=>{v.push(o)})});const n=S(()=>i.value.length>=4?v.filter(e=>e.toLowerCase().indexOf(i.value.toLowerCase())!=-1):[]);function c(e){l.value=!1,i.value=e}const b=S(()=>h.filter(e=>{if(!e.data.filter(s=>s.candidates.join(", ").toLowerCase().indexOf(i.value.toLowerCase())!=-1).every(s=>s===!0))return h}));function k(e){return e.filter(o=>{if(!o.candidates.filter(a=>{if(a.toLowerCase().includes(i.value.toLowerCase()))return e}).every(a=>a===!0))return e})}function L(){localStorage.contests="";var e=document.querySelectorAll("input[type=checkbox]");e.forEach(o=>{o.checked=!1})}function E(){localStorage.getItem("contests").length>0?m.value=localStorage.getItem("contests"):m.value="No Contests Selected - to select a contest down below click a location and then a desired contest."}function $(){if(m.value.startsWith("No Contests Selected"))alert("You must first select some checkboxes down below.");else{var e=document.getElementById("exportFavorites");e.select(),e.setSelectionRange(0,99999),navigator.clipboard.writeText(e.value)}}function N(){if(m.value.startsWith("No Contests Selected"))alert("You must first select some checkboxes down below.");else{var e=document.createElement("a");e.href="data:text/plain;charset=UTF-8,"+escape(m.value),e.download="my-favorite-contests.txt",e.click()}}function T(){var e=document.getElementById("importFavorites");e.value.length>0?(C(e.value.replace(/[\r\n]/gm,"")),e.value=""):alert("You have to paste a list of contests.")}function M(){var e=document.createElement("input");e.setAttribute("type","file"),e.addEventListener("change",()=>{var o=e.files[0];if(o.type.match(/text.*/)){var s=new FileReader;s.onload=function(){var a=s.result;a.match("^[0-9]+(,[0-9]+)*$")?(C(a),alert("Your selected Contests were sucessfully imported.")):alert("Values must be comma separated keys.")},s.readAsText(o)}else alert("File type is not supported.")}),e.click()}function C(e){var o=[];e.split(",").forEach(s=>{var a=document.querySelector("input[value='"+s+"']");Number.isInteger(parseInt(s))?a&&(a.checked=!0):o.push(s)}),o.length<1&&(localStorage.contests=e)}return(e,o)=>{const s=D("router-link");return d(),r(_,null,[t("main",null,[t("div",ot,[t("div",at,[st,t("div",lt,[F(s,{to:"/custom/view/",type:"button",class:"btn btn-success"},{default:A(()=>[q("Submit")]),_:1}),t("button",{type:"button",class:"btn btn-primary",onClick:E,"data-bs-toggle":"modal","data-bs-target":"#exportModal"},"Export"),t("button",{type:"button",class:"btn btn-secondary",onClick:o[0]||(o[0]=(...a)=>e.importContests&&e.importContests(...a)),"data-bs-toggle":"modal","data-bs-target":"#importModal"},"Import"),ct])]),nt,t("div",it,[t("div",dt,[j(t("input",{type:"text",placeholder:"search candidates...",class:"form-control form-control-lg","onUpdate:modelValue":o[1]||(o[1]=a=>i.value=a),onFocus:o[2]||(o[2]=a=>l.value=!0)},null,544),[[Y,i.value]]),l.value?(d(),r("div",rt,[(d(!0),r(_,null,x(n.value,(a,f)=>(d(),r("li",{class:"list-group-item list-group-item-action",key:f,onClick:St=>c(a)},g(a),9,ut))),128))])):B("",!0)])]),t("div",mt,[t("div",pt,[(d(!0),r(_,null,x(b.value,(a,f)=>(d(),r("div",{key:f},[F(et,{electionName:a.location,idx:f,contestData:k(a.data)},null,8,["electionName","idx","contestData"])]))),128))])])])]),t("div",bt,[t("div",ht,[t("div",vt,[ft,t("div",_t,[t("textarea",{type:"text text-break",class:"form-control",value:m.value,id:"exportFavorites",rows:"7",readonly:""},null,8,yt)]),t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary",onClick:$,"data-bs-dismiss":"modal"},"Copy Text"),t("button",{type:"button",class:"btn btn-primary",onClick:N,"data-bs-dismiss":"modal",id:"download"},"Export to File")])])])]),t("div",{class:"modal fade",id:"importModal",tabindex:"-1","aria-labelledby":"importModalLabel","aria-hidden":"true"},[t("div",{class:"modal-dialog"},[t("div",{class:"modal-content"},[gt,t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary",onClick:T,"data-bs-dismiss":"modal"},"Import Text"),t("button",{type:"button",class:"btn btn-primary",onClick:M,"data-bs-dismiss":"modal"},"Import File")])])])]),t("div",{class:"modal fade",id:"deleteModal",tabindex:"-1","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},[t("div",{class:"modal-dialog"},[t("div",{class:"modal-content"},[xt,kt,t("div",{class:"modal-footer"},[Ct,t("button",{type:"button",class:"btn btn-primary",onClick:L,"data-bs-dismiss":"modal"},"Yes Delete")])])])])],64)}}},It=I(wt,[["__scopeId","data-v-461819e7"]]);export{It as default};
