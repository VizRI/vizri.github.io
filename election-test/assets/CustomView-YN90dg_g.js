import{_ as y,r as f,j as D,a as x,b as a,d as t,f as i,w as C,m as v,g as n,t as k,i as b,q as V,F as I,e as S,o as c,A as j,s as q,p as B,h as F}from"./index-C9s4TIqk.js";const l=d=>(B("data-v-37fc4c68"),d=d(),F(),d),N={key:0,class:"container-fluid"},A={class:"d-flex align-items-center justify-content-center"},E={class:"text-center"},L=l(()=>t("h1",{class:"display-1 fw-bold"},"Error",-1)),P=l(()=>t("p",{class:"fs-3"},[t("span",{class:"text-danger"},"Opps!"),n(" Contests not found.")],-1)),T=l(()=>t("p",{class:"lead"}," You must select a contest from the Custom page. ",-1)),U={key:1,class:"container-fluid"},G={class:"row header"},O=l(()=>t("div",{class:"col-sm-12 col-md-6"},[t("h1",{class:"contest-type"},"Custom View")],-1)),R={class:"col-sm-12 col-md-6"},Y={class:"last-updated"},$=l(()=>t("small",null,"updated: ",-1)),z={class:"refresh"},H={class:"row"},J={__name:"CustomView",setup(d){const u=f("");let _=f(null);u.value=localStorage.getItem("contests").split(",");const h=u.value[0]=="",e=D({contestData:[]});function w(o){e.requestData=o,m(e.requestData),e.requestData=!1}function m(){let o=[];fetch(window.APP_URL+"/data/all_elections.json").then(s=>s.json()).then(s=>{_.value===s.last_updated?console.log("no update yet"):(_.value=s.last_updated,s.contests.forEach(r=>{u.value.includes(r.contest_number)&&o.push(r)}),e.contestData=o)})}return m(),(o,s)=>{const r=x("router-link");return c(),a("main",null,[h?(c(),a("div",N,[t("div",A,[t("div",E,[L,P,T,i(r,{to:"/custom/",tag:"button",type:"button",class:"btn btn-primary"},{default:C(()=>[n("Go Back")]),_:1})])])])):v("",!0),h?v("",!0):(c(),a("div",U,[t("div",G,[O,t("div",R,[t("h3",Y,[$,n(k(b(_)),1)]),t("h3",z,[n("data refresh: "),i(V,{onUpdate:s[0]||(s[0]=p=>w(p))}),n(" minutes ")])])]),t("div",H,[(c(!0),a(I,null,S(e.contestData,(p,g)=>(c(),a("div",{class:"col-sm-12 col-md-6 col-xl-6",key:g},[i(j,{contest:p},null,8,["contest"])]))),128))]),i(q)]))])}}},M=y(J,[["__scopeId","data-v-37fc4c68"]]);export{M as default};
