import{o as i,b as l,d as e,t as r,x as v,F as f,_ as g,r as y,j as w,h as p,i as b,g as h,q as x,e as k,p as D,f as $,s as S}from"./index.809b7793.js";const C={class:"fs-6 contest-title text-break pb-0 m-0"},E={class:"card-body"},N={class:"row"},T={class:"col-7 my-auto"},q={class:"fs-5 fw-bold m-0"},I={class:"col-5"},j={class:"fs-7 text-end m-0"},A={class:"fs-4 text-end m-0"},B={__name:"AppCard",props:{contest:String,candidate:String,party:String,rank:Number,diff:Number},setup(d){const t=d;function n(o){return o==1?"winning":"losing"}function _(o){return o==1?"ahead":"down"}return(o,c)=>(i(),l(f,null,[e("p",C,r(t.contest),1),e("div",{class:v(["card shadow",n(t.rank)])},[e("div",E,[e("div",N,[e("div",T,[e("p",q,r(t.candidate),1)]),e("div",I,[e("p",j,"votes "+r(_(t.rank))+" by",1),e("p",A,r(t.diff.toLocaleString()),1)])])])],2)],64))}};const u=d=>(D("data-v-3e72c5aa"),d=d(),$(),d),F={class:"container-fluid"},L={class:"row header"},V=u(()=>e("div",{class:"col-sm-12 col-md-6"},[e("h1",{class:"contest-type"},"Endorsed Cadndidates")],-1)),P={class:"col-sm-12 col-md-6"},U={class:"last-updated"},z=u(()=>e("small",null,"updated: ",-1)),R={class:"refresh"},G=p("data refresh: "),H=p(" minutes "),J=u(()=>e("p",{class:"mt-4 fs-6"}," This shows all endorsed candidates for single-vote contests that have at least 1 challenger. The cards are a simple design, a gray card means the candidate is losing, blue means they are winning. The positive number to the right shows how far ahead a candidate is from the 2nd place opponent and a negative number shows how far behind they are from the leader. ",-1)),K={class:"row"},M={__name:"Endorsed",setup(d){let t=y(null);const n=w({endorsedData:[]});function _(c){n.requestData=c,o(n.requestData),n.requestData=!1}function o(){let c=[];fetch(window.APP_URL+"/data/endorsed.json").then(a=>a.json()).then(a=>{t.value===a.last_updated?console.log("no update yet"):(t.value=a.last_updated,a.endorsed.forEach(s=>{c.push(s)}),n.endorsedData=c)})}return o(),(c,a)=>(i(),l("main",null,[e("div",F,[e("div",L,[V,e("div",P,[e("h3",U,[z,p(r(b(t)),1)]),e("h3",R,[G,h(x,{onUpdate:a[0]||(a[0]=s=>_(s))}),H])]),J]),e("div",K,[(i(!0),l(f,null,k(n.endorsedData,(s,m)=>(i(),l("div",{class:"col-sm-12 col-md-6 item p-3",key:m},[h(B,{rank:s.rank,candidate:s.candidate_name,party:s.party,contest:s.contest_title,diff:s.vote_diff},null,8,["rank","candidate","party","contest","diff"])]))),128))]),h(S)])]))}};var Q=g(M,[["__scopeId","data-v-3e72c5aa"]]);export{Q as default};
