import{_ as w,r as m,i as y,a as D,o as a,b as n,d as t,f as r,w as x,l as f,g as c,t as C,h as k,q as V,F as b,e as I,p as S,m as q,A as B,s as N}from"./index.1c0950b7.js";const l=d=>(S("data-v-665c508e"),d=d(),q(),d),j={key:0,class:"container-fluid"},A={class:"d-flex align-items-center justify-content-center"},E={class:"text-center"},F=l(()=>t("h1",{class:"display-1 fw-bold"},"Error",-1)),L=l(()=>t("p",{class:"fs-3"},[t("span",{class:"text-danger"},"Opps!"),c(" Contests not found.")],-1)),P=l(()=>t("p",{class:"lead"}," You must select a contest from the Custom page. ",-1)),T=c("Go Back"),U={key:1,class:"container-fluid"},G={class:"row header"},O=l(()=>t("div",{class:"col-sm-12 col-md-6"},[t("h1",{class:"contest-type"},"Custom View")],-1)),R={class:"col-sm-12 col-md-6"},Y={class:"last-updated"},$=l(()=>t("small",null,"updated: ",-1)),z={class:"refresh"},H=c("data refresh: "),J=c(" minutes "),K={class:"row"},M={__name:"CustomView",setup(d){const i=m("");let u=m(null);const s=y({contestData:[]});function v(o){s.requestData=o,h(s.requestData),s.requestData=!1}function h(){let o=[];fetch(window.APP_URL+"data/all_elections.json").then(e=>e.json()).then(e=>{console.log(i.value),u.value===e.last_updated?console.log("no update yet"):(u.value=e.last_updated,e.contests.forEach(_=>{i.value.includes(_.contest_number)&&o.push(_)}),s.contestData=o)})}return i.value=localStorage.getItem("contests").split(","),h(),(o,e)=>{const _=D("router-link");return a(),n("main",null,[s.contestData.length<1?(a(),n("div",j,[t("div",A,[t("div",E,[F,L,P,r(_,{to:"/custom/",tag:"button",type:"button",class:"btn btn-primary"},{default:x(()=>[T]),_:1})])])])):f("",!0),s.contestData.length>0?(a(),n("div",U,[t("div",G,[O,t("div",R,[t("h3",Y,[$,c(C(k(u)),1)]),t("h3",z,[H,r(V,{onUpdate:e[0]||(e[0]=p=>v(p))}),J])])]),t("div",K,[(a(!0),n(b,null,I(s.contestData,(p,g)=>(a(),n("div",{class:"col-sm-12 col-md-6 col-xl-6",key:g},[r(B,{contest:p},null,8,["contest"])]))),128))]),r(N)])):f("",!0)])}}};var W=w(M,[["__scopeId","data-v-665c508e"]]);export{W as default};
